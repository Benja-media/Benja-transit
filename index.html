<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <title>Benja Transit</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
		 	<link rel="manifest" href="/home/manifest.json">
      <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />
      <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
      <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet" />
      <link href="map/map.css" rel="stylesheet" />
      <link href="/global.css" rel="stylesheet" />
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPSGDWL1T1"></script>
      <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());
         
         gtag('config', 'G-ZPSGDWL1T1');
         
      </script>
   </head>
   <body>
      <div id="time">
         <h1 style="font-size: 60px;">Welcome,</h1>
      </div>
		 <div id="center-cont">
		<div id="search">
		 <input id="lookup" placeholder="Search for a stop" autofocus onkeyup="search()" onfocus="focus()"></input><i onclick="locate()" class="material-icons" id="locate_btn">near_me</i><i onclick="window.location.href = '/scan'" class="material-icons">photo_camera</i>
		</div>
			 <p id="loader"><i onclick="locate()" class="material-icons" id="locate_btn">pending</i>Loading stops...</p></div>
	
		 <div id="result"></div>
      <div id="map-btns" class="map-options">
			  <button onclick="theme('sat')" id="theme-btn" class="option-button"><span class="material-icons">satellite_alt</span>Satellite</button>
			</div>
			<div id="map-cont">
         <div id="map"></div>
      </div>
      <span class="material-icons top-btn" id="totop" onclick="totop()">expand_less</span>
      <div id="footer">
         <img src="/scan/examples/scan.png" class="footer-img"></img>
      </div>
      <script src="map/cluster.js" defer></script>
		  <!--<script src="/home/search.js" defer></script>-->
<script>

	window.addEventListener('load', () => {
	registerSW();
	});

	// Register the Service Worker
	async function registerSW() {
	if ('serviceWorker' in navigator) {
		try {
		await navigator
				.serviceWorker
				.register('home/service.js');
		}
		catch (e) {
		console.log('SW registration failed');
		}
	}
	}
</script>
   </body>
</html>